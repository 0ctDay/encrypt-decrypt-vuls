{"version":3,"sources":["webpack:///./src/views/step4.vue","webpack:///./src/views/step4.vue?a5ea","webpack:///./src/views/step4.vue?0c8b"],"names":["class","style","ref","model","form","rules","prop","type","newPassword","clearable","placeholder","confirmPassword","passNotMatch","resetPassword","data","required","message","trigger","username","this","$route","params","methods","request","post","password","then","response","code","$message","success","setTimeout","$router","push","codeNotExist","catch","error","console","watch","newValue","__exports__","render"],"mappings":"qQACSA,MAAM,mB,uBAEP,gCAAyD,MAArDA,MAAM,QAAQC,MAAA,0BAA4B,UAAM,M,+BAOE,W,+BAIiB,M,gPAb3E,gCAgBM,MAhBN,EAgBM,CAfJ,yBAcU,GAdDC,IAAI,OAAQC,MAAO,EAAAC,KAAOC,MAAO,EAAAA,MAAOL,MAAM,c,+BACrD,iBAAyD,CAAzD,EACA,yBAEe,GAFDM,KAAK,eAAa,C,8BAC9B,iBAAgG,CAAhG,yBAAgG,GAAtFC,KAAK,W,WAAqB,EAAAH,KAAKI,Y,qDAAL,EAAAJ,KAAKI,YAAW,IAAEC,UAAA,GAAUC,YAAY,U,iCAE9E,yBAEe,GAFDJ,KAAK,mBAAiB,C,8BAClC,iBAAqG,CAArG,yBAAqG,GAA3FC,KAAK,W,WAAoB,EAAAH,KAAKO,gB,qDAAL,EAAAP,KAAKO,gBAAe,IAAEF,UAAA,GAAUC,YAAY,Y,iCAE7D,EAAAE,c,yBAApB,yBAEe,G,MAFmBX,MAAA,e,+BAAoB,iBAEtD,C,oDACA,yBAEe,Q,8BADb,iBAAmF,CAAnF,yBAAmF,GAAxEM,KAAK,UAAUN,MAAA,eAAqB,QAAO,EAAAY,e,+BAAe,iBAAE,C,oFAQhE,GACbC,KADa,WAEX,MAAO,CACLV,KAAM,GACNC,MAAO,CACLG,YAAa,CACX,CACEO,UAAU,EACVC,QAAS,SACTC,QAAS,SAGbN,gBAAiB,IAEnBC,cAAc,EACdM,SAAUC,KAAKC,OAAOC,OAAOH,WAGjCI,QAAS,CACPT,cADO,WACS,WAGdU,EAAA,KAAQC,KAAK,wBAAyB,CAElCN,SAAUC,KAAKD,SACfO,SAAUN,KAAKf,KAAKI,cAGvBkB,MAAK,SAAAC,GAGiB,KAAjBA,EAASC,MACX,EAAKC,SAASC,QAAQ,UAGtBC,YAAW,WACT,EAAKC,QAAQC,KAAK,YACjB,MAEH,EAAKC,cAAe,KAIvBC,OAAM,SAAAC,GAELC,QAAQD,MAAMA,QAIpBE,MAAO,CAEP,uBAFO,SAEgBC,GACjBA,IAAapB,KAAKf,KAAKI,cAEzBW,KAAKP,cAAe,M,iCCrE5B,MAAM4B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-5784c29b.4707d388.js","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"login-page\">\r\n        <h2 class=\"title\" style=\"margin-bottom: 20px\">请输入新密码</h2>\r\n        <el-form-item prop=\"newPassword\">\r\n          <el-input type=\"password\"  v-model=\"form.newPassword\" clearable placeholder=\"请输入新密码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"confirmPassword\">\r\n          <el-input type=\"password\" v-model=\"form.confirmPassword\" clearable placeholder=\"请再次输入新密码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"passNotMatch\" style=\"color: red;\">\r\n          密码不一致\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" style=\"width: 100%\" @click=\"resetPassword\">完成</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import request from \"../utils/request\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {},\r\n        rules: {\r\n          newPassword: [\r\n            {\r\n              required: true,\r\n              message: '请输入新密码',\r\n              trigger: 'blur',\r\n            }\r\n          ],\r\n          confirmPassword: '',\r\n        },\r\n        passNotMatch: false,\r\n        username: this.$route.params.username\r\n      };\r\n    },\r\n    methods: {\r\n      resetPassword() {\r\n        // 处理修改密码的逻辑\r\n        // this.$router.push('/login'); // 或跳转到登录页面\r\n        request.post('/forget/resetpassword', {\r\n          \r\n            username: this.username,\r\n            password: this.form.newPassword\r\n          \r\n        })\r\n        .then(response => {\r\n          // 在这里处理请求成功的情况\r\n    \r\n          if (response.code == \"0\") {\r\n            this.$message.success('密码修改成功');\r\n\r\n            // 等待一段时间后，跳转到个人资料页面\r\n            setTimeout(() => {\r\n              this.$router.push('/login');\r\n            }, 3000);\r\n          } else {\r\n            this.codeNotExist = true;\r\n          }\r\n          // 根据后端返回的数据进行相应处理\r\n        })\r\n        .catch(error => {\r\n          // 在这里处理请求失败的情况\r\n          console.error(error);\r\n        });\r\n      }\r\n    },\r\n    watch: {\r\n    // 监听确认密码的变化，确保与新密码一致\r\n    'form.confirmPassword'(newValue) {\r\n      if (newValue !== this.form.newPassword) {\r\n        // 如果确认密码与新密码不一致，可以在这里添加一些提示或者处理逻辑\r\n        this.passNotMatch = true;\r\n      }\r\n     }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* 样式与原页面保持一致 */\r\n  .login-container {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100vh;\r\n    background: url('../img/bg2.svg');\r\n    background-size: contain;\r\n    overflow: hidden;\r\n  }\r\n  .login-page {\r\n    border-radius: 5px;\r\n    margin: 180px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./step4.vue?vue&type=template&id=462508ac&scoped=true\"\nimport script from \"./step4.vue?vue&type=script&lang=js\"\nexport * from \"./step4.vue?vue&type=script&lang=js\"\n\nimport \"./step4.vue?vue&type=style&index=0&id=462508ac&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\JAVA开发\\\\图书管理逻辑\\\\vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-462508ac\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./step4.vue?vue&type=style&index=0&id=462508ac&scoped=true&lang=css\""],"sourceRoot":""}